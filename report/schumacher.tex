\documentclass[]{report}   % list options between brackets
\usepackage{graphicx, url, placeins, algorithm, algorithmic, hyperref, lipsum}
\graphicspath{{figures/}}

\begin{document}

\title{Monte Carlo-based ray tracer\\ Project Report}   % type title between braces
\author{
	Johan Beck Nor√©n, johbe559@student.liu.se
	\\Andreas Valter , andva287@student.liu.se
	}
\date{\today}    % type date between braces
\maketitle

\setcounter{page}{2}
\chapter{Abstract}
\emph{ A brief and concise summary of the article. It should be limited to 1000 characters.}
\chapter{Introduction}
Realistic lighting in computer graphics scenes has been a problem for many years.
\emph{You should describe here global lighting models and talk about Whitted ray tracing, radiosity, Monte Carlo ray-tracing, two-pass rendering, photon mapping and ray-tracing of isosurfaces, explaining how they work and what they do. 
This description should be done mainly in words and not so much with maths. 
Also do not go too much into detail. 
The explanations should be done with the help of the papers above that were presented during the seminar. 
You should reference these papers in the introduction. 
The introduction is concluded by a paragraph, that describes the structure of the paper like: "The first section is the introduction. 
In section 2, we discuss in more detail the techniques regarding (raytracing, Monte Carlo raytracing, depending on what you have implemented), which we have implemented. 
Section 3 shows some results that we have obtained with our implementation and benchmarks. 
The discussion and the outlook is the section 4." 
Length: about 3 pages.}

\begin{equation} \label{eq:light}
A=B
\end{equation}

\section{Global lightning}
Global lightning models uses contributions from the whole scene when calculating the light for each part of the screen.

\section{Whitted ray tracing}
The Whitted ray tracing method described by Turner Whitted in \cite{} was the first global illumination method that took the whole scene into consideration when calculating intensity values.
In previous so called ray marching solutions, the calculations stopped as a ray hit a surface and local lightning models like Lambert's cosine rule to model perfectly diffuser or the Phong model. \\

\begin{equation} \label{eq:phong}
\emph{I} = \emph{I}_{a} + \emph{k}_{d} \sum_{j=1}^{j=ls} (  \bar{N} .  \bar{L}_j) + \emph{k}_{s} \sum_{j=1}^{j=ls} (  \bar{R}_j .  \bar{V})^n
\end{equation}

The Phong model given by \autoref{eq:phong} is a local light model.
It assumes that each light source $\emph{L}_j$ is located at a point with infinite distance to the objects in the scene. 
The total reflected intensity $\emph{I}$ is calculated using the reflection due to ambient light $\emph{I}_{a}$ together with two terms, one term for diffuse light and one specular term.
The two constants $\emph{k}_{d}$ and $\emph{k}_{s}$ is reflection constants that regulates their contributions.
The diffuse term uses the Lamberts cosine law to describe the color using a dot product between the normal and the light direction to calculate if that part of the surface is directed towards the light source.
The specular term uses the direction that a perfect reflection $ \bar{V} $ from the light source would take on the surface together with a ray towards the viewer $\bar{V}$.\\

Whitted extended the previous techniques and allowed for rays to bounce in the scene and thus creating the basis for global illumination.
The solution he presented allowed for true reflections, shadows and refractions.
By using the Phong model on each ray hit and spawning new rays recursively for reflections, shadow rays and refractions a method for simulating global lightning is created.

\section{Radiosity}
By splitting the scene geometry into a number of finite elements called patches, illumination in a scene can be calculated as the exchange of energy between these patches.

\section{Monte Carlo ray-tracing}

\section{Two-pass rendering}

\section{Photon mapping}

\section{Iso surface ray tracing}

\chapter{Background}
\emph{Here you describe the techniques you use in your code. 
Describe how you do ray-surface intersections, how you launch reflected and refracted rays, how you compute the intensities, what are shadow rays, etc. No C++ code. 
You may use pseudocode, but it is better do discuss the techniques only from a theoretical point of view. 
These descriptions should be accompanied by figures. 
The figures are numbered consecutively in order of appearance. 
Each figure must have a caption with a brief description of what you see in it. 
The figures must be referred to from the text and described and interpreted in more detail in the text.
Length: about 5-6 pages.}

\section{Scene storage}
When calculating global lightning for the scene, all other objects needs to be taken into consideration when calculating the light in one part of the scene due to \autoref{eq:light}.
For ray tracing solutions, this means that as rays bounce inside the scene, the first intersecting object needs to be located.
A novice solution would be to store the whole scene without any information about where in the scene they are.
When doing the ray tracing in the scene, the algorithm would have to check against all other objects, even if almost all of the checks would be misses.
For a simple scene with only few implicit objects, this is the best solution, the overhead when dealing with an more complex storage method would make it slower.
But when using a real scene consisting of models with hundreds of thousands of elements, it is possible to take advantage of the spatial information of each element to subtract a small subset and only do collision tests against those.
There are several methods for storing the scene using different techniques.

\subsection{Bounding box}
An axis aligned bounding box is a crucial part of most scene storage methods.
This is the smallest box with axes aligned to the Cartesian coordinates axes that can encapsulate the primitive that owns the bounding box.
The bounding box wont be the smallest box that can encapsulate the primitive but the intersection tests is much simpler then doing collision tests against arbitrary rotated primitives.

\subsection{Bounding volume hierarchy}
Bounding volume hierarchy (BVH) uses a tree structure with bounding volumes like axis aligned bounding boxes. 
Small sets of primitives is divided into different bounding volumes.
These small volumes are then divided in to larger bounding volumes recursively until there is only one bounding volume left surrounding the whole scene.
By using this technique, it is known that if the ray does not intersect the large bounding box, the smaller child boxes can be ignored as well.

\subsection{Octree}
The octree method uses the bounding boxes in a slightly different way.
The scene is encapsulated into a large bounding box.
When each primitive is added, the scene bounding box is subdivided into eight sub-volumes recursively until the current level of bounding boxes are to small to fit the primitive.
The primitive is then added to the level above that as a leaf.
Using this structure, it is possible to traverse the ray trough the volume and just as when using the BVH tree, large parts of the tree can be ignored by checking parent nodes.

\section{Intersection}
\subsection{Implicit sphere}
\subsection{Quadrilateral}
\subsection{Triangle}
\subsection{Octree}

\section{Ray tracing}
\subsection{Reflection}
\subsection{Refraction}
\subsection{Intensity calculations}
\subsection{Shadow rays}

\chapter{Results and benchmarks}
\emph{Here you show results obtained with your code. You can do series of computations, where you vary the pixel resolution, the number of ray iterations, the number and type of the objects in the scene (transparent vs opaque) etc. You can compare in detail images computed from the same scene with different resolutions. You can discuss figures and effects in the figures, like color bleeding, noise, aliasing artifacts etc. You can list benchmarks (e.g. how long it took your computer to calculate a frame with a given resolution) in a table etc. Here you can be creative and look at things you like. 
Length: about 5-6 pages .}


\chapter{Discussion}
\emph{Here you should repeat the key findings of your article and discuss how you could improve them. 
Do not go into details, but just give a general description. 
Do not use bullet points. 
You can also give an outlook on how your renderer could be improved etc. 
Length: about 1 page .}

\bibliographystyle{abbrv}
\bibliography{bibl}

\end{document}